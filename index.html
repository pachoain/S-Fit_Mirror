<!DOCTYPE html>
<html ng-app="Mirror">
    <head>
        <meta charset="utf-8" />
        <title>S-Fit Mirror</title>
        <link rel="icon" type="image/png" href="assets/img/sfit-logo-final.png" />
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/signalr/jquery.signalr-2.2.1.min.js"></script>
        <script type="text/javascript" src="http://cdn.myconstellation.io/js/Constellation-1.8.1.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
        <script type="text/javascript" src="http://cdn.myconstellation.io/js/ngConstellation-1.8.1.min.js"></script>
        <script type="text/javascript" src="index.js"></script>
    </head>

    <body ng-controller="MyController">
      <div class="day" id="day">
        <div class="dayhour">
          <span>{{time}}</span>
        </div>

        <div class="daydate">
          <span>{{date}}</span>
        </div>

        <div class="daysaint">
          <span>{{nameDay}}</span>
        </div>

        <div class="srss" style="display: inline-flex;">
          <div>
            <img src="assets/img/meteo/sunrise.png"/>
            <br />
            <span class="srhour">{{sunrise}}</span>
          </div>
          <div>
            <img src="assets/img/meteo/sunset.png"/>
            <br />
            <span class="sshour">{{sunset}}</span>
          </div>
        </div>
      </div>

      <div class="meteo" id="meteo">
        <div class="meteoimg">
          <img src="assets/img/meteo/{{weather}}.png" />
        </div>

        <div class="meteotemperature">
          <span>{{temperature}} C</span>
        </div>

        <div class="meteoevent">
          <img src="assets/img/meteo/{{predictionWeather}}.png"/> <span>dans {{predictionTime}} heures</span>
        </div>
      </div>

      <div id="bonjou" class="bonjou">
        <span>Bonjour !</span>
      </div>

      <div class="circle">
        <canvas id="canvas">
          <p>Désolé, votre navigateur ne supporte pas Canvas. Mettez-vous à jour</p>
        </canvas>
      </div>

      <script type="text/javascript">
        appear("bonjou", () => {
          disappear("bonjou");
        });

        var canvas  = document.querySelector('#canvas');
        var context = canvas.getContext('2d');

        var step = 6789;
        var objectif = 10000;
        var percent = step / objectif;

        context.strokeStyle = "rgb(255, 255, 255)";
        context.lineWidth = "5";
        context.beginPath();
        context.arc(75, 75, 50, -Math.PI/2, (3*Math.PI/2 + Math.PI/2)*percent - Math.PI/2);
        context.stroke();

        context.font = "4vw Calibri,Geneva,Arial";
        context.fillStyle = "white";
        context.fillText(step, 45, 82);
      </script>
    </body>
</html>
